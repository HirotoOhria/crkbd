## 0 内容品確認

Corneキーボードキットには以下の部品が含まれています。  

![](P1470389.jpg)

 - 実装済みメイン基板 2枚 (右用・左用1枚ずつ)
 - トッププレート 2枚 
 - ボトムプレート 2枚 
 - Pro Micro保護プレート 2枚 
 - Pro micro マイコンボード 2枚 (実装済みPCBに装着済み)
 - OLEDモジュール 128x32ドット 2枚 
 - プレート固定用スペーサ(短) 10本 
 - アクリル固定用スペーサ(長) 4本 
 - ネジ M2 4mm 28本 
 - クッションゴム 8個 
 - TRRSケーブル 4極 オスオス 500mm 1本 
 - Micro USBケーブル 1本 

**Pro MicroにはCorne用デフォルトファームウェアが書き込まれているため、キットを組み立てるだけで使用することが出来ます**

**Pro Microにはコンスルーピンヘッダが実装されており、メイン基板から取り外しが可能ですが、**  
**コンスルーピンヘッダは非常に曲がりやすく、過度な取り外しは破損の恐れがあります。**
**こちらはPro Micro上のUSBコネクタが破損した時など、交換が必要な際にのみ取り外して下さいませ。**  

*組み立て手順の写真は主に左側のメイン基板を使用し解説しております。*
*右手側は、プレート類の表裏を逆にして組み立てて下さいませ。*

## 1 キースイッチ・キー枠取り付け

最初に、用意したキースイッチの足が曲がっていないか確認して下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1054.jpg)  

曲がったまま取り付けてしまうと、ソケットに足が刺さらず動作不良や折損の原因となりますので注意して下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1065.jpg)  

トッププレートの4隅にキースイッチをはめ込んで下さい。  

スイッチの向きは、飛び出した1キー部分はプレート外側に端子が並ぶように、  
そのほかの3キーは、文字が読める向きにトッププレートを置いた時に下側に並ぶようにはめ込んで下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1041.jpg)  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1042.jpg)  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1043.jpg)  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1044.jpg)  

メイン基板を、机など硬い台の上に、Pro MicroやTRRSジャックが表面に来るよう置いて下さい。  
机などに傷をつけたくない場合は、間に新聞紙などを敷くと良いでしょう。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1045.jpg)  

**硬い台の上に置き上から力を掛け、ソケットをメイン基板に押さえつけることで、ソケットのハンダ付けが剥がれメイン基板から脱落することを防いでいます。**  
**キースイッチをソケットに差し込む際は、必ずソケットをメイン基板に押さえつけられるようにしてください。**

キーをはめ込んだトッププレートの位置を合わせ、トッププレートごとスイッチをソケットにはめ込んで下さい。  
この時、メイン基板を押さえキースイッチをしっかり上から差し込んで下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1066.jpg)  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1046.jpg)  

4隅のスイッチをはめ込んだら、そのほかのキーを一つずつはめ込んで下さい。  
向きは、下側に端子が並ぶように向けてください。  
また、はめ込む際は上からしっかりと力を掛けてはめ込んで下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1048.jpg)  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1049.jpg)  

キースイッチを全て差し込んだら、OLEDを取り付けて下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1067.jpg)  

左右のメイン基板をTRRSケーブル(3.5mm 4極ジャックケーブル)で接続し、  
左側のメイン基板上のPro MicroとパソコンをUSBで接続して下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1068.jpg)  
左側のOLEDに現在のキー入力情報が、右側のOLEDにcorneのロゴマークが表示されます。  
左側のOLEDの表示を使い、全てのキーが問題なく入力されるかを確認します。  

左側のOLEDの表示について、上から  
 - 現在のレイヤー
 - 最後に押されたキーの座標・キーコード
 - 直近20キーの押下履歴(1文字ずつ増えていき、20キーを超えるとクリアされる)  
となります。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1069.jpg)  

キーの座標は以下のようにマッピングされています。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1068_2.jpg)  
例として、"6x4"は右手側 "6"行 "4"列の、以下の位置になります。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1068_3.jpg)  
全てのキーに対し、押下時に左側OLEDに対応する座標が表示されることを確認して下さい。  

反応しないキーがある場合、足が曲がりソケットに刺さってないことが考えられます。  
反応しないキーを取り外し、足が曲がっていないか確認して下さい。  

キーが全て反応することを確認したら、TRRSジャックの近くの2つの穴に  
4本入りの長いスペーサを表側に突き出るよう、裏側からネジ止めして下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1057.jpg)  

## 2 ボトムプレート・マイコンカバー取り付け

10本封入されている短いスペーサを、片面に全てのスペーサが並ぶようボトムプレートにネジ止めして下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1056.jpg)  
トッププレート/メイン基板を、穴位置/外形を合わせ上から置いて下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1058.jpg)  
トッププレートからネジ止めし、固定します。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1060.jpg)  

最後に、TRRSジャック付近に立てたスペーサにアクリルカバーを固定します。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1062.jpg)  

これで本体の完成となります。お疲れ様でした。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1063.jpg)  

### Tips. はめ込んだキーの外し方

①精密マイナスドライバーなどをキーの下側のトッププレートとの隙間に差し込み、てこのようにしてキーを持ち上げる。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1135.jpg)  
キースイッチ下側のツメがトッププレートから外れます。  
力を入れすぎるとツメの折損や変形の原因になりますので、無理な力を与えないように気をつけて下さい。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1136.jpg)  
②同様に上側から持ち上げ、ツメを外す。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1137.jpg)  
上下両方のツメが外れると、他のスイッチと比べると浮いた状態になります。  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1138.jpg)  
③やさしく指などで引き抜く  
![](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/DSC_1139.jpg)  
乱暴に引き抜くと端子の曲がりなどの原因になります。

## 3 (オプション)LEDの取り付け【難易度高】

オプションLEDの取り付けには下記の部品・道具が必要です。

- はんだごて一式　`※温度調節機能のあるはんだを強くおすすめします（270度ほど）`
- SK6812MINI	54個	`※上向き実装 42個、下向き実装 12個`
  ※製作時に破損させてしまう危険性がありますので、最低でも60個以上の用意をおすすめします。

LEDの取り付けは黒い部品、ホットスワップソケットが取り付けられている側（底面側）から行います。

LEDはメイン基板上で以下のように1~27まで順番に回路がつながっています。
途中のLEDの実装に問題があると、その後のLEDが全て光らなくなる場合などがあるため、
順番通り実装しながら点灯チェックを行なっていくことをおすすめします。

![LED番号](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/LED番号.jpg)



#### ※LEDの実装をはじめるまえに

LEDは抵抗等と比べて熱に弱い部品です。
270度程度の低温度で、部品自体をあまり熱さないよう半田付けを行なっていきましょう。
また、半田パッドや接点が小さく、無理な力を加えると剥がれてしまう場合があります。
細心の注意を払って実装を行なっていきましょう。



### 3-1 UnderglowLEDの実装（LED番号1~6）

`※難易度の高い実装なので、一つ一つ丁寧に確認しながら作業を行なっていきましょう。`

4つの半田パッドのうち、黒枠で囲われているパッドの逆側にLEDの黒い部分が来るように実装します。
下記画像のとおり、LEDを実装して下さい。

![IMG_20200722_155618](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/IMG_20200722_155618.jpg)

`※予め4つのパッドに半田を少量盛っておくと、作業がしやすい場合があります。（個人の好みによります）`

上記写真のように、4つの半田パッドに偏りなくLEDが乗っている状態でLEDを固定しながら、パッドと部品のはんだ付けを行なって下さい。

LEDをテープで固定するなどして、作業しやすい環境を作るとよいでしょう。

筆者の場合はLEDの位置決めをした後、ピンセットでLEDを押さえながら4つのパッド上に盛った半田を溶かし、LEDを仮固定してからもう一度半田を盛って実装しています。
LEDの側面にもごく僅かながら接点が露出しているので、ここまで半田を盛ってあげるとよいでしょう。

![IMG_20200722_160156](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/IMG_20200722_160156.jpg)

LED番号1~3と4~6で半田パッドの黒枠の位置が変わっているので、LEDの向きには気をつけて下さい。

### 3-2 バックライトLEDの実装　（LED番号7～27）

バックライトLEDはメイン基板上に空いた穴へLED部品をはめ込むような形で実装します。

バックライトなので、LEDをキースイッチの方向に向けて実装する　と覚えると迷わずに済むでしょう。

また、裏面が下記の画像のとおりになるよう、実装します。

![IMG_20200722_155438](https://bit-trade-one.co.jp/wp/wp-content/uploads/2020/07/IMG_20200722_155438.jpg)

メイン基板上の黒枠半田パッド（赤丸）とLED背面の一番大きな接点（青丸）が繋がる形が正しいです。

また、LEDを穴に嵌める際にはできるだけ真っ直ぐにはめ込むようにしましょう。
斜めに嵌めてしまうと半田パッドと接点の間に段差ができ、半田付けが難しくなってしまいます。

1~6の実装に比べると難易度は低めかと思います。
半田パッドと接点の間をつなぐように、半田を垂らすイメージで実装するとうまくいくでしょう。
